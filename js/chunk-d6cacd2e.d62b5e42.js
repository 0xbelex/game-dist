(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6cacd2e"],{"00ee":function(t,e,n){var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},1418:function(t,e,n){"use strict";n("47a5")},"1de5":function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"27fe":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n("cebe"),o=n.n(r),i=n("3089");function a(t,e={}){return new Promise((n,r)=>{o.a.get(t,{params:e}).then(t=>{n(t.data)}).catch(t=>{r(t)})})}function s(t,e={}){return new Promise((n,r)=>{o.a.post(t,e).then(t=>{n(t.data)},t=>{r(t)})})}o.a.defaults.timeout=5e4,o.a.defaults.baseURL="",o.a.interceptors.request.use(t=>{t.data=JSON.stringify(t.data),t.headers={"Content-Type":"application/json"};const e=localStorage.getItem("userAddr");if(e){const n=localStorage.getItem(e);t.headers["X-BELE-TOKEN"]=n}return t},t=>Promise.reject(t)),o.a.interceptors.response.use(t=>{if(!t.data||"LOGIN"==t.data.code){const e=localStorage.getItem("userAddr");return localStorage.removeItem(e),localStorage.removeItem("userAddr"),i["Dialog"].alert({message:"请签名登录"}).then(()=>{window.location.href=window.location.origin+"/captain"}),t}return t},t=>Promise.reject(t))},"2ba4":function(t,e,n){var r=n("40d5"),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},"3bbe":function(t,e,n){var r=n("da84"),o=n("1626"),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},4511:function(t,e,n){var r=n("24fb"),o=n("1de5"),i=n("d7a8");e=r(!1);var a=o(i);e.push([t.i,"#h5Container{max-width:500px;margin:0 auto;overflow:hidden;position:relative;background:url("+a+") no-repeat;background-size:100% 100%}.langView .langBtn{position:absolute;top:10px;right:10px;width:24px;height:24px}.langView .langBtn img{width:100%}.langView .langBtn:active{opacity:.8}.langView .langContent{position:absolute;top:40px;right:10px;width:64px;height:104px;background:rgba(0,0,0,.5);padding:6px 0;box-sizing:border-box;border-radius:8px}.langView .langContent .langItem{font-size:14px;color:#fff;text-align:center;height:30px;line-height:30px}.router_view{box-sizing:border-box;padding-bottom:67px}.router_view .bottom_link{border-top:1px solid #03f;border-bottom:19px solid #03f;padding-top:56px;display:flex;justify-content:space-between}.router_view .bottom_link .bottom_link_left{padding-left:29px}.router_view .bottom_link .bottom_link_left p{font-size:10px;font-family:SourceHanSansCN-Regular,SourceHanSansCN;font-weight:400;color:#9a9a9a;line-height:17px;margin:0}.router_view .bottom_link .footer_link{display:flex;align-items:center;justify-content:flex-end;padding-right:29px}.router_view .bottom_link .footer_link a{margin-right:20px}.router_view .bottom_link .footer_link a:last-child{margin-right:0}.router_view .bottom_link .copyRight{padding-right:29px;text-align:right;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#9a9a9a;line-height:23px;margin-top:20px;margin-bottom:58px}.van-toast{background:rgba(0,0,0,.9)!important}",""]),t.exports=e},"47a5":function(t,e,n){var r=n("4511");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=n("499e").default;o("0e5294a8",r,!0,{sourceMap:!1,shadowMode:!1})},"577e":function(t,e,n){var r=n("da84"),o=n("f5df"),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},7156:function(t,e,n){var r=n("1626"),o=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var a,s;return i&&r(a=e.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(t,s),t}},ab36:function(t,e,n){var r=n("861d"),o=n("9112");t.exports=function(t,e){r(e)&&"cause"in e&&o(t,"cause",e.cause)}},b980:function(t,e,n){var r=n("d039"),o=n("5c6c");t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},bbb7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"h5Container"},on:{click:function(e){t.showLang=!1}}},[n("router-view")],1)},o=[],i=(n("d9e2"),n("8bbf")),a=n.n(i),s=n("aacf"),c=n("3035"),u=n.n(c),l=n("27fe"),d={name:"h5home",components:{},data(){return{langList:[{name:"中文",value:"zh"},{name:"English",value:"en"},{name:"日本语",value:"jp"}],langSelectValue:"",showLang:!1,seconds:6}},created(){},watch:{},mounted(){this.linkWallet("MetaMask")},methods:{changeLang(t){this.langSelectValue=t.value,this.$i18n.locale=t.value,this.showLang=!1,localStorage.setItem("beleLang",t.value)},startCutDown(){1==this.$store.state.inviteStatus&&(0!=this.seconds?(this.seconds=this.seconds-1,setTimeout(()=>{this.startCutDown()},1e3)):1==this.$store.state.inviteStatus&&window.location.reload())},linkWallet(t){window.ethereum?this.$utils.linkWallet({type:t,successFn:async t=>{var e;const n=new u.a(window.ethereum),r=await n.eth.getChainId();if(r!=this.$api.chainId)return void this.$dialog.alert({message:this.$t("lang.qiehuanzhuwang")});const o=localStorage.getItem(t[0]);if(!o)return void this.getToken(t[0],n);const i=await Object(l["a"])(this.$api.apiUrl+"user/info");if(((null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.address)||"").toLowerCase()!=t[0].toLowerCase())return localStorage.removeItem(t[0]),localStorage.removeItem("userAddr"),void this.getToken(t[0],n);a.a.prototype.web3js=n;const s={web3js:n,userAddr:t[0]};this.$store.commit("setUseraddress",t[0]),this.$store.dispatch("initContartInfo",s),this.getResgiter(t[0])},errorFn:()=>{}}):this.$dialog.alert({message:this.$t("lang.qianbaodakai")}).then(()=>{this.linkWallet()})},getToken(t,e){Object(l["b"])(this.$api.apiUrl+"user/nonce",{address:t.toLowerCase()}).then(n=>{if(!n.data)throw new Error("loopTerminates");return e.eth.personal.sign(n.data,t)}).then(e=>{if(!e)throw new Error("loopTerminates");return Object(l["b"])(this.$api.apiUrl+"user/login",{address:t.toLowerCase(),sign:e})}).then(e=>{if(!e.data)throw new Error("loopTerminates");localStorage.setItem(t,e.data),localStorage.setItem("userAddr",t),this.linkWallet("MetaMask")}).catch(()=>{this.$dialog.alert({message:"签名登录失败,请重试！"}).then(()=>{this.getToken(t,e)})})},async getResgiter(t){try{const e=new this.web3js.eth.Contract(s["a"].inviteAbi,this.$api.inviteContract_Addr,{from:t}),n=await e.methods.registed(t).call();n?this.$store.commit("setinviteStatus",3):(this.$store.commit("setinviteStatus",2),"captain"!=this.$route.name&&this.$dialog.alert({message:this.$t("lang.noRegiste")}).then(()=>{this.$router.replace("/")}))}catch(e){console.log(e)}}}},p=d,f=(n("1418"),n("2877")),g=Object(f["a"])(p,r,o,!1,null,null,null);e["default"]=g.exports},c770:function(t,e,n){var r=n("e330"),o=r("".replace),i=function(t){return String(Error(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,s=a.test(i);t.exports=function(t,e){if(s&&"string"==typeof t)while(e--)t=o(t,a,"");return t}},d2bb:function(t,e,n){var r=n("e330"),o=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},d7a8:function(t,e,n){t.exports=n.p+"img/bg.f06e6f0c.png"},d9e2:function(t,e,n){var r=n("23e7"),o=n("da84"),i=n("2ba4"),a=n("e5cb"),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=a(t,e,u),r({global:!0,forced:u},n)},d=function(t,e){if(c&&c[t]){var n={};n[t]=a(s+"."+t,e,u),r({target:s,stat:!0,forced:u},n)}};l("Error",(function(t){return function(e){return i(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),l("URIError",(function(t){return function(e){return i(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},e391:function(t,e,n){var r=n("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},e5cb:function(t,e,n){"use strict";var r=n("d066"),o=n("1a2d"),i=n("9112"),a=n("3a9b"),s=n("d2bb"),c=n("e893"),u=n("7156"),l=n("e391"),d=n("ab36"),p=n("c770"),f=n("b980"),g=n("c430");t.exports=function(t,e,n,h){var b=h?2:1,m=t.split("."),v=m[m.length-1],w=r.apply(null,m);if(w){var x=w.prototype;if(!g&&o(x,"cause")&&delete x.cause,!n)return w;var y=r("Error"),_=e((function(t,e){var n=l(h?e:t,void 0),r=h?new w(t):new w;return void 0!==n&&i(r,"message",n),f&&i(r,"stack",p(r.stack,2)),this&&a(x,this)&&u(r,this,_),arguments.length>b&&d(r,arguments[b]),r}));if(_.prototype=x,"Error"!==v&&(s?s(_,y):c(_,y,{name:!0})),c(_,w),!g)try{x.name!==v&&i(x,"name",v),x.constructor=_}catch(k){}return _}}},f5df:function(t,e,n){var r=n("da84"),o=n("00ee"),i=n("1626"),a=n("c6b6"),s=n("b622"),c=s("toStringTag"),u=r.Object,l="Arguments"==a(function(){return arguments}()),d=function(t,e){try{return t[e]}catch(n){}};t.exports=o?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=d(e=u(t),c))?n:l?a(e):"Object"==(r=a(e))&&i(e.callee)?"Arguments":r}}}]);